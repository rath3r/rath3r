"use strict";var rath3rApp=angular.module("rath3rApp",["ngRoute","ngSanitize"]);rath3rApp.config(["$routeProvider","$locationProvider",function(a,b){a.when("/",{templateUrl:"views/main.html",controller:"mainCtrl"}).when("/post/:id",{templateUrl:"views/post.html",controller:"postCtrl"}).when("/about",{templateUrl:"views/about.html",controller:"aboutCtrl"}),b.html5Mode(!0)}]),rath3rApp.controller("mainCtrl",["$scope","$http",function(a,b){a.message="",a.posts={title:"Loading"},a.loading=!0,a.posts={},b.get("https://public-api.wordpress.com/rest/v1.1/sites/blog.rath3r.com/posts/").success(function(b){a.posts=b.posts,a.loading=!1}).error(function(){})}]),rath3rApp.controller("aboutCtrl",["$scope","$http",function(a,b){function c(a){var b,c,d,e,f,g,h,i,j,k,l=(Math.max.apply(null,Object.keys(a).map(function(b){return Date.parse(a[b].dateStarted)})),Math.min.apply(null,Object.keys(a).map(function(b){return Date.parse(a[b].dateStarted)}))),m=new Date,n=m.getTime(),o=[],p=700,q=20;c=n-l,j=new Date(l),k=j.getFullYear(),b=m.getFullYear();for(var r=0;r<a.length;r++)e=n-Date.parse(a[r].dateStarted),d=c==e?0:e*p/c,1==a[r].stillUsing?i=n*p/c:(h=Date.parse(a[r].dateFinished),i=(n-h)*p/c),o.push({y:d,title:a[r].title,width:i});f=d3.select(".chart").attr("width",p).attr("height",q*o.length+100),g=f.selectAll("g").data(o).enter().append("g").attr("transform",function(a,b){return"translate("+a.y+","+(b*q+20)+")"}),g.append("rect").attr("width",function(a,b){return a.width}).attr("height",q-1),g.append("text").attr("x",function(a){return 10}).attr("y",q/2).attr("dy",".35em").text(function(a){return a.title}),d3.select(".chart").append("text").attr("class","label").attr("x",0).attr("y",10).attr("dy",".35em").text(k),d3.select(".chart").append("text").attr("class","label").attr("x",p-25).attr("y",10).attr("dy",".35em").text(b)}a.message="This is the about page?",a.posts={title:"Loading"},a.loading=!0,b.get("http://dev.rath3rapi.com/json").success(function(b){c(b),a.loading=!1}).error(function(){})}]),rath3rApp.controller("postCtrl",["$http","$scope","$routeParams",function(a,b,c){b.post={},b.loading=!0;var d="https://public-api.wordpress.com/rest/v1.1/sites/blog.rath3r.com/posts/"+c.id;a.get(d).success(function(a){b.post=a,b.loading=!1}).error(function(){})}]);