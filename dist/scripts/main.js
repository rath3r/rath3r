"use strict";var rath3rApp=angular.module("rath3rApp",["ngRoute","ngSanitize"]);rath3rApp.config(["$routeProvider","$locationProvider",function(a,b){a.when("/",{templateUrl:"views/main.html",controller:"mainCtrl"}).when("/post/:id",{templateUrl:"views/post.html",controller:"postCtrl"}).when("/about",{templateUrl:"views/about.html",controller:"aboutCtrl"}),b.html5Mode(!0)}]),rath3rApp.controller("mainCtrl",["$scope","$http",function(a,b){a.message="",a.posts={title:"Loading"},a.loading=!0,a.posts={},b.get("https://public-api.wordpress.com/rest/v1.1/sites/blog.rath3r.com/posts/").success(function(b){a.posts=b.posts,a.loading=!1}).error(function(){})}]),rath3rApp.controller("aboutCtrl",["$scope","$http",function(a,b){function c(a){var b,c,d,e,f,g,h,i,j,k,l=700,m=new Date,n=m.getTime(),o=m.getFullYear(),p=[],q=20;b=Math.min.apply(null,Object.keys(a).map(function(b){return Date.parse(a[b].dateStarted)})),e=Math.max.apply(null,Object.keys(a).map(function(b){return Date.parse(a[b].dateStarted)})),f=n-b,c=new Date(b),d=c.getFullYear(),g=l/f;for(var r=0;r<a.length;r++)h=Math.ceil((Date.parse(a[r].dateStarted)-b)*g),i=Math.ceil((n-Date.parse(a[r].dateStarted))*g),p.push({y:h,title:a[r].title,width:i});j=d3.select(".chart").attr("width",l).attr("height",q*p.length+100),k=j.selectAll("g").data(p).enter().append("g").attr("transform",function(a,b){return"translate("+a.y+","+(b*q+20)+")"}),k.append("rect").attr("width",function(a,b){return a.width}).attr("height",q-1),k.append("text").attr("x",function(a){return 10}).attr("y",q/2).attr("dy",".35em").text(function(a){return a.title}),d3.select(".chart").append("text").attr("class","label").attr("x",0).attr("y",10).attr("dy",".35em").text(d),d3.select(".chart").append("text").attr("class","label").attr("x",l-25).attr("y",10).attr("dy",".35em").text(o)}a.message="This is the about page?",a.posts={title:"Loading"},a.loading=!0,b.get("http://data.rath3r.com/json").success(function(b){c(b),a.loading=!1}).error(function(){})}]),rath3rApp.controller("postCtrl",["$http","$scope","$routeParams",function(a,b,c){b.post={},b.loading=!0;var d="https://public-api.wordpress.com/rest/v1.1/sites/blog.rath3r.com/posts/"+c.id;a.get(d).success(function(a){b.post=a,b.loading=!1}).error(function(){})}]);